# haiku-4.5 ディレクトリ - PHP コーチング AI プロジェクト

## 📌 概要

このディレクトリは、Claude（Haiku 4.5）がチームの PHP プログラミング能力向上を支援するための AI コーチシステム開発用の作業スペースです。

## 🎯 プロジェクト目標

1. **チームのコーディングスタイルを理解する** AI の構築
2. **段階的なレベル分け** に基づいた問題出題システム
3. **的確なフィードバック** による効果的な学習支援
4. **客観的な点数付け** による現在位置の把握

## 📁 ディレクトリ構成

```
haiku-4.5/
├── README.md                           ← このファイル
├── STYLE_EXTRACTION_METHOD.md          ← コーディングスタイル抽出方法論
├── MONOLOG_STYLE_GUIDE.md              ← Monolog プロジェクト スタイルガイド
├── LEVEL_FRAMEWORK.md                  ← PHP マスターレベル分け（作成予定）
├── SCORING_SYSTEM.md                   ← 採点・評価システム（作成予定）
├── FEEDBACK_STRATEGY.md                ← フィードバック戦略（作成予定）
└── EXAMPLES/                           ← 問題と解答例（作成予定）
    ├── level_1_basic/
    ├── level_2_intermediate/
    └── level_3_advanced/
```

## 📋 各ドキュメント説明

### 1. **STYLE_EXTRACTION_METHOD.md**

**目的**: Monolog プロジェクトからコーディングスタイルを抽出した方法論を文書化

**内容**:
- ✅ 実施した9つの段階的分析アプローチ
- 🎯 抽出結果（ファイル構造、型システム、命名規則など）
- 💡 さらに良い抽出方法の提案（PHPStan、AST解析、機械学習など）
- 📊 統合的なスタイル抽出パイプライン

**活用方法**:
- AI が他のプロジェクトのスタイルを抽出する際の方法論参考
- コーディングスタイル分析の自動化ツール開発時に参照

---

### 2. **MONOLOG_STYLE_GUIDE.md**

**目的**: Monolog プロジェクトのコーディングスタイルを実装可能な形でガイド化

**内容**:
- 📐 ファイル構造（declare、namespace、use の順序）
- 🏷️ 命名規則（クラス、メソッド、プロパティ、定数）
- 🔤 型システム（Union Types、Nullable、readonly）
- 🏗️ クラス設計（メンバー順序、インターフェース、Trait、Enum）
- 🔧 メソッド実装（Guard句、Fluent インターフェース）
- ⚠️ エラーハンドリング（例外選択、try-finally、リソース解放）
- 📝 PHPDoc ドキュメンテーション基準
- 🧪 テスト構造と命名
- ✅ コードレビュー用チェックリスト

**活用方法**:
- AI が出題する問題のベースラインとなるスタイル基準
- 採点時にユーザーコードとの比較対象
- ユーザーへのフィードバック例示

---

### 3. **LEVEL_FRAMEWORK.md** 🚧 (作成予定)

**目的**: PHP プログラミングマスター到達までの段階的スキルマップ定義

**予定内容**:
- **レベル 1: 基礎文法** (Beginner)
  - 変数・データ型・演算子
  - 制御構文（if/for/while）
  - 関数・配列・文字列操作
  
- **レベル 2: 中級基礎** (Intermediate Foundation)
  - OOP 基礎（クラス・メソッド・プロパティ）
  - 例外処理
  - ファイル操作
  - 正規表現

- **レベル 3: 中級応用** (Intermediate Advanced)
  - 継承・インターフェース・トレイト
  - ネームスペース
  - 無名関数・クロージャ
  - コールバック

- **レベル 4: 上級実践** (Advanced)
  - デザインパターン
  - リフレクション
  - パフォーマンス最適化
  - TDD

- **レベル 5: マスター** (Expert)
  - 大規模システム設計
  - セキュリティベストプラクティス
  - フレームワーク深掘
  - チームコードベース最適化

**各レベル内容**:
- 学習目標
- 習得すべきコンセプト
- 実装パターン
- よくあるアンチパターン
- 出題例（難度基準）

---

### 4. **SCORING_SYSTEM.md** 🚧 (作成予定)

**目的**: ユーザーの回答コードに対する多次元的な点数付けシステム定義

**予定内容**:
- 🎯 評価次元の定義
  - 機能性（Functionality）: 40%
  - 可読性（Readability）: 20%
  - 保守性（Maintainability）: 20%
  - 効率性（Efficiency）: 10%
  - スタイル適合度（Style Compliance）: 10%

- 📊 各次元の評価基準
  - 定量的メトリクス（CCN、行数など）
  - 定性的評価（コード品質）

- ⚙️ 自動計算ロジック
  - 静的解析ツール連携（PHPStan、PHPCS）
  - メトリクス計算
  - スコア集計

- 🏅 レベル別基準値
  - 各レベルで期待されるスコア

---

### 5. **FEEDBACK_STRATEGY.md** 🚧 (作成予定)

**目的**: ユーザーへの効果的なフィードバック戦略

**予定内容**:
- 📢 フィードバックの3段階
  1. 即座的フィードバック（正答・不正答）
  2. 詳細フィードバック（改善点・理由・例示）
  3. 学習提案（次ステップ・リソース）

- 🎓 学習スタイル別フィードバック
  - 初級者向け（詳細・励まし）
  - 中級者向け（最適化提案）
  - 上級者向け（アーキテクチャ考慮）

- 📚 チームコードベース連携
  - 実際のチームコードとの比較
  - チームの慣例との乖離指摘
  - チームの成功パターンの引用

- 🔗 外部リソースリンク
  - PHPドキュメント
  - PSR標準
  - OWASP セキュリティガイド

---

### 6. **EXAMPLES/** 🚧 (作成予定)

**構成**:
```
EXAMPLES/
├── level_1_basic/
│   ├── problem_001_hello_world.md
│   ├── problem_002_variables.md
│   └── ...
├── level_2_intermediate_foundation/
│   ├── problem_101_oop_basics.md
│   └── ...
└── level_3_intermediate_advanced/
    ├── problem_201_interfaces.md
    └── ...
```

**各問題ファイルの構成**:
```
# 問題タイトル

## 難度: ⭐⭐

## 目標
ユーザーが習得すべき技術・概念

## 問題説明
実装すべき要件

## スターターコード（オプション）
```php
// スターターコード
```

## 期待される解答パターン
- パターン1（標準的）
- パターン2（代替方法）

## 評価ポイント
- ✅ これができていたら満点
- ⚠️ これを確認する
- ❌ これは避けるべき

## 学習リンク
- PHPドキュメント
- 関連概念
```

---

## 🔄 開発フロー

```
1. スタイル抽出（現在完了 ✅）
   ↓
2. レベルフレームワーク定義（次ステップ）
   ↓
3. 採点システム設計
   ↓
4. フィードバック戦略策定
   ↓
5. 問題テンプレート作成
   ↓
6. AI エージェント実装
   ↓
7. テスト・改善
```

---

## 💡 技術的検討事項

### AI エージェントの構成

```
┌─────────────────────────────────────────────┐
│          ユーザー（学習者）                  │
└──────────────────┬──────────────────────────┘
                   │
        ┌──────────┴──────────┐
        ↓                     ↓
   ┌─────────┐          ┌──────────┐
   │ 質問    │          │ コード   │
   │ プール  │          │ 提出     │
   └────┬────┘          └────┬─────┘
        │                    │
        └────────┬───────────┘
                 ↓
      ┌────────────────────┐
      │  AI Coach Agent    │
      │                    │
      ├─ 問題選択エンジン  │
      ├─ 採点モジュール    │
      ├─ FB生成エンジン    │
      └────────┬───────────┘
               │
        ┌──────┴───────┬──────────┬─────────┐
        ↓              ↓          ↓         ↓
    スタイル      Monolog    チーム    学習
    ガイド        コード     コード    履歴DB
    BASE          BASE       BASE
```

---

## 📊 データベース構想（今後）

```yaml
Users:
  - user_id
  - name
  - current_level
  - total_score
  - created_at

Problems:
  - problem_id
  - level
  - category
  - difficulty
  - title
  - description
  - starter_code
  - expected_patterns
  - evaluation_points

Submissions:
  - submission_id
  - user_id
  - problem_id
  - code
  - submitted_at
  - score (multidimensional)
  - feedback

LearningHistory:
  - history_id
  - user_id
  - timestamp
  - action (solved/failed/reviewed)
  - details
```

---

## 🚀 次のアクション

### 優先度 HIGH
- [ ] LEVEL_FRAMEWORK.md 完成
- [ ] 各レベルの習得目標を具体化
- [ ] レベル1の問題テンプレート5〜10個作成

### 優先度 MEDIUM
- [ ] SCORING_SYSTEM.md 完成
- [ ] 採点ロジック実装（PHPスクリプト）
- [ ] FEEDBACK_STRATEGY.md 完成

### 優先度 LOW
- [ ] チームの既存コードベース分析
- [ ] AIエージェント実装
- [ ] UI/UX 設計

---

## 📞 参考

- **Monolog プロジェクト**: `/Users/mirai/projects/php-chatbot/monolog/`
- **抽出方法論の詳細**: `STYLE_EXTRACTION_METHOD.md`
- **スタイルガイドの詳細**: `MONOLOG_STYLE_GUIDE.md`

---

**最終更新**: 2025-11-01
**作成者**: Claude Haiku 4.5
**ステータス**: 🚧 作成中
